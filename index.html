<!DOCTYPE html>
<html>

<script>
  function testSheetsAPI() {
    const apiKey = 'AIzaSyD5txTjuD_VuJRazGSD9z5c6glQmFyHiT4'; // Replace with your API key
    const spreadsheetId = '137PraRp0dKZTmUKx-uW018fz_AOxSR6l39mMCfqeHHo'; // Replace with your spreadsheet ID
    const sheetName = 'Expenses'; // Replace with your sheet name

    fetch(`https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${sheetName}?key=${apiKey}`)
      .then(response => response.json())
      .then(data => console.log(data.values))
      .catch(error => console.error('Error:', error));
  }

  function testDB() {
    const apiEndpoint = 'https://sheetdb.io/api/v1/v6v401vey4uq1'
    console.log("IN TEST DB")
    fetch(apiEndpoint, {
        method:'GET', 
        headers: {'Authorization': 'Bearer 3vx4f95w20c484k2v7tqiy5rous5l8557co9225o'}
    })
    .then((response) => response.json())
    .then((data) => console.log(data));

    // Sort results by id in descending order, take two
    // and return the age as an integer.

    var url = apiEndpoint + 'sheet=Expenses'
    fetch(url)
      .then((response) => response.json())
      .then((data) => console.log(data));


    // fetch('https://sheetdb.io/api/v1/58f61be4dda40/id/3', {
    // method: 'PATCH',
    // headers: {
    //     'Accept': 'application/json',
    //     'Content-Type': 'application/json'
    // },
    // body: JSON.stringify({
    //     data: {
    //         'name': "Emma"
    //     }
    // })
    // })
    // .then((response) => response.json())
    // .then((data) => console.log(data));
  }
</script>

<body>
  <h1>Hello World</h1>
  <p>I'm hosted with GitHub Pages.</p>

  <input id="clickMe" type="button" value="clickme" onclick="testSheetsAPI();" />

  <form>
    <label for="total">Total:</label>
    <input type="text" id="total" name="total"><br>
    <label for="fons">Alfonso:</label>
    <input type="text" id="fons" name="fons"><br>
    <label for="theo">Theo:</label>
    <input type="text" id="theo" name="theo"><br>
    <input type="submit" value="Submit" onclick="testDB();">
  </form>
  
  
  
  <input id="clickMe" type="button" value="clickme" onclick="testDB();" />
</body>

</html>